(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){"use strict";var a=n(42),r=n(31),o={configs:{stories:{name:"stories",config:{team:""}},online:{name:"online",config:{room:"",name:""}},api:{name:"api",config:{protocol:"https",host:"planning-poker-api.herokuapp.com",port:"443"}}},decks:new r.a,internet:{connected:!1},me:{id:"",name:"",card:"",room:""},message:{text:"",type:""},players:new r.a,socket:{emit:function(){}}},c=n(9);n.d(t,"b",function(){return o});t.a=Object(a.c)({configs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.configs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.CONFIG:return t.configs;default:return e}},decks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.decks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.DECKS:return t.decks;default:return e}},me:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.ME:return t.me;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.message,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.MESSAGE:return t.message;default:return e}},internet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.internet,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.INTERNET:return t.internet;default:return e}},players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.players,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.PLAYERS:return t.players;default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.socket,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.SOCKET:return t.socket;default:return e}}})},308:function(e,t,n){e.exports=n(6021)},5593:function(e,t,n){e.exports=n(6024)},5647:function(e,t){},5650:function(e,t,n){},5651:function(e,t,n){},5652:function(e,t,n){},5771:function(e,t,n){},5772:function(e,t,n){},5773:function(e,t,n){},5774:function(e,t,n){},5775:function(e,t,n){},5997:function(e,t,n){},5998:function(e,t,n){},5999:function(e,t,n){},6000:function(e,t,n){},6001:function(e,t,n){},6002:function(e,t,n){},6004:function(e,t,n){},6021:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n(65),o=n(309),c=n(310),i=n(19),s=Object(a.d)(o.reduxBatch,Object(a.a)(c.a),Object(r.persistState)(function(){var e=window.location.href.match(/[?&]debug_session=([^&]+)\b/);return e&&e.length>0?e[1]:null}()));t.default=function(e){return Object(a.e)(i.a,e,s)}},6024:function(e,t,n){"use strict";n.r(t);var a,r=n(32),o=n.n(r),c=n(41),i=n(0),s=n.n(i),l=n(23),u=n(24),m=n(19),p=n(9),d=n(35),f=n(110),g=n.n(f),h={db:{name:"planning-poker",version:1,description:"planning poker store"}},E={app:h,message:{types:{error:"error",success:"success",warning:"warning"}},urlEscape:{"&#9749;":"%E2%98%95"}},v=g.a.createInstance(Object(d.a)({},h.db,{storeName:"config"})),b={create:(a=v,function(e){return a.setItem(e.name,e)}),getByName:function(e){return function(){var t=Object(c.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItem(n);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=void 0;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(v)},y=n(31),k={getAll:function(){return new Promise(function(e){return e(new y.a([{name:"fibonacci",cards:new y.a(["0","1","2","3","5","8","13","20","40","&infin;","&quest;","&#9749;"])}]))})}},C=n(111),w=n.n(C),N={configs:b,decks:k,errors:{create:function(e,t){if(t)return w.a.post("".concat(t.protocol,"://").concat(t.host,":").concat(t.port,"/errors"),e)}},stories:{getByProject:function(e,t,n){var a="".concat(n.protocol,"://").concat(n.host,":").concat(n.port,"/projects/").concat(e,"/stories");return w.a.get(a,{params:t})}}},O=n(304),j=n.n(O),_="joined",S={joined:"user:joined",left:"user:left"},P={chosen:"card:chosen",revealed:"card:revealed",cleared:"card:cleared"},I="connect",x="reconnecting",T="reconnect_failed",B={api:N,constants:E,socket:{setup:function(e){e.dispatch(M.message.send({text:"connecting...",type:B.constants.message.types.warning}));var t=e.getState().configs.api.config,n=t.protocol,a=t.host,r=t.port,o=j()("".concat(n,"://").concat(a,":").concat(r));o.on(I,function(){return e.dispatch(M.me.connect(o,e.getState().me))}),o.on(x,function(){return e.dispatch(M.me.reconnect())}),o.on(T,function(){return e.dispatch(M.me.disconnect())}),o.on(_,function(t){return e.dispatch(M.me.update(t))}),o.on(S.joined,function(t){return e.dispatch(M.players.update(t))}),o.on(S.left,function(t){return e.dispatch(M.players.update(t))}),o.on(P.revealed,function(t){return e.dispatch(M.players.update(t))}),o.on(P.cleared,function(t){return e.dispatch(M.players.update(t))})}}},L={send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.b.message;return{type:p.a.MESSAGE,message:e}}},A={update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:m.b.players};return{type:p.a.PLAYERS,players:new y.a(Object.values(e.users).filter(function(e){return e&&e.id&&"function"!==typeof e}))}}},M={configs:{update:function(e){var t=e.api,n=void 0===t?m.b.configs.api:t,a=e.online,r=void 0===a?m.b.configs.online:a,o=e.stories,c=void 0===o?m.b.configs.stories:o;return B.api.configs.create(n),B.api.configs.create(r),B.api.configs.create(c),{type:p.a.CONFIG,configs:{api:n,online:r,stories:c}}}},decks:{update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.b.decks;return{type:p.a.DECKS,decks:new y.a(e)}}},me:{connect:function(e,t){var n=t.name,a=t.room;return a&&e.emit("join",{name:n,room:a}),[{type:p.a.SOCKET,socket:e},L.send(),{type:p.a.INTERNET,internet:{connected:!0}}]},disconnect:function(){return[L.send({text:"disconnected",type:B.constants.message.types.error}),{type:p.a.INTERNET,internet:m.b.internet},{type:p.a.SOCKET,socket:m.b.socket}]},reconnect:function(){return[L.send({text:"reconnecting...",type:B.constants.message.types.warning}),A.update(),{type:p.a.INTERNET,internet:m.b.internet}]},update:function(e){return[A.update(e),{type:p.a.ME,me:{id:e.user.id,name:e.user.name,card:e.card||"",room:e.room}}]}},message:L,players:A,types:p.a},R=n(21),G=n(66),K=n(6026),D=n(6027),W=n(27),H=n(29),q=n(28),F=n(30),U=n(17),Y=(n(5650),function(){return s.a.createElement("div",{className:"card-back"},s.a.createElement("div",{className:"card-back__content"},s.a.createElement("h1",{className:"card-back__title"},"PLANNING"),s.a.createElement("h2",{className:"card-back__subtitle"},s.a.createElement("sup",{className:"card-back__title-mark"},"SCRUM"),"POKER")))}),V=(n(5651),function(e){var t=e.card;return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card__mark"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),s.a.createElement("div",{className:"card__points"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),s.a.createElement("div",{className:"card__mark-upside-down"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))}),J=function(e){return e.card?s.a.createElement(V,e):s.a.createElement(Y,null)},Q=n(6025),$=(n(5652),function(e){var t=e.cards;return s.a.createElement("ul",{className:"cards"},t.map(function(e){return s.a.createElement("li",{className:"cards__card",key:e},s.a.createElement(Q.a,{to:"/cards/".concat(B.constants.urlEscape[e]||e),title:"Card ".concat(e)},s.a.createElement(J,{card:e})))}))}),z=n(311),X=n(5),Z=n.n(X),ee=n(6),te=Object(R.withStyles)(function(e){return{fab:{position:"absolute",bottom:2*e.spacing.unit,right:2*e.spacing.unit,color:e.palette.common.white}}})(function(e){var t=e.classes,n=e.children,a=e.style,r=Object(z.a)(e,["classes","children","style"]);return s.a.createElement(ee.d,Object.assign({className:Z()(t.fab,a),variant:"round"},r),n)}),ne=(n(5771),function(e){var t=e.players;return s.a.createElement("ul",{className:"lobby"},t.map(function(e){return s.a.createElement("li",{className:"lobby__player",key:e.id},s.a.createElement("div",{className:"lobby__player-content"},s.a.createElement("span",{className:"lobby__player-name"},e.name)))}))}),ae=(n(5772),function(e){var t=e.message;return s.a.createElement("div",{className:Z()("message",{"message--state-warning":t.type===B.constants.message.types.warning},{"message--state-error":t.type===B.constants.message.types.error},{"message--state-success":t.type===B.constants.message.types.success})},t.text)}),re=(n(5773),function(e){var t=e.me,n=e.player;return s.a.createElement("div",{className:Z()("players__player",{"players__player--points-equal":n.card&&n.card===t.card},{"players__player--points-different":n.card&&n.card!==t.card})},s.a.createElement("div",{className:"players__player-mark"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.card}})),s.a.createElement("div",{className:"players__player-content"},n.name))}),oe=(n(5774),function(e){var t=e.me,n=e.players;return s.a.createElement("ul",{className:"players"},n.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(re,{me:t,player:e}))}))}),ce=function(e){return s.a.createElement(ee.l,e)},ie=function(e){var t=e.icon,n=e.label,a=e.onClick;return s.a.createElement(ee.a,null,s.a.createElement(ee.m,null,s.a.createElement(ee.f,{color:"inherit",onClick:a},t),s.a.createElement(ee.n,{variant:"h6",color:"inherit",noWrap:!0},n)))},se=(n(5775),function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return s.a.createElement("div",null,s.a.createElement(ie,{label:"About",icon:s.a.createElement(U.a,null),onClick:n.handleBack}),s.a.createElement("main",{className:"about-list"},s.a.createElement("div",{className:"about-list__item"},s.a.createElement("div",{className:"about__logo-image"},s.a.createElement("img",{src:"img/logo.png",width:"96",height:"96",alt:"Logo"})),s.a.createElement("div",{className:"about__product-name"},"Planning Poker"),s.a.createElement("span",null,"A Planning Poker (game) powered by React and Redux.")),s.a.createElement("div",{className:"about-list__item"},s.a.createElement("h2",{className:"about__product-version"},"Version",s.a.createElement("p",null,"4.0.0"))),s.a.createElement("div",{className:"about-list__item"},s.a.createElement("button",{className:"about__form-button",onClick:n.handleChoose},s.a.createElement("i",{className:"about__form-icon"},s.a.createElement(U.e,null))))))},n.handleBack=function(){n.props.history.push("/")},n.handleChoose=function(e){e.preventDefault(),window.open("https://github.com/jroliveira/planning-poker-game","_system","location=yes")},n}return Object(F.a)(t,e),t}(s.a.Component)),le=n(65),ue=n(305),me=n.n(ue),pe=n(306),de=n.n(pe),fe=(Object(le.createDevTools)(s.a.createElement(de.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q"},s.a.createElement(me.a,{theme:"tomorrow"}))),{getByDeck:function(e,t){return e.filter(function(e){return e.name===t}).map(function(e){return e.cards}).reduce(function(e,t){return e.concat(t)})||new y.a}}),ge={getOthers:function(e,t){return e.filter(function(e){return e.id!==t})}},he=function(e){var t=e.children,n=e.label,a=e.to;return s.a.createElement(ee.h,{component:Q.a,to:a,title:n},s.a.createElement(ee.i,null,t),s.a.createElement(ee.j,{primary:n}))},Ee=(n(5997),Object(R.withStyles)(function(){return{paper:{width:270}}})(function(e){return s.a.createElement(ee.e,{mdUp:!0},s.a.createElement(ee.c,Object.assign({},e,{className:"menu",variant:"persistent",ModalProps:{keepMounted:!0}}),s.a.createElement("div",{className:"menu__header"},s.a.createElement("div",{className:"menu__button-back"},s.a.createElement(ee.f,{onClick:e.onClose},s.a.createElement(U.a,null))),s.a.createElement("img",{className:"menu__logo-image",src:"img/logo.png",height:"65",width:"65",alt:"Logo"}),s.a.createElement("div",{className:"menu__title"},"Planning Poker")),s.a.createElement(ee.g,null,s.a.createElement(he,{label:"About",to:"/about"},s.a.createElement(U.c,null)),s.a.createElement(he,{label:"Settings",to:"/settings"},s.a.createElement(U.g,null)))))})),ve=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.render=function(){return s.a.createElement("div",null,s.a.createElement(ie,{label:"Planning Poker",icon:s.a.createElement(U.d,null),onClick:n.handleClick}),s.a.createElement(Ee,{onClose:n.handleClick,open:n.state.open}))},n.handleClick=function(){n.setState({open:!n.state.open})},n}return Object(F.a)(t,e),t}(s.a.Component),be=(n(5998),function(e){var t=e.cards,n=e.me,a=e.message,r=e.players,o=e.internet;return s.a.createElement("div",null,s.a.createElement(ve,null),s.a.createElement("main",{className:"home"},s.a.createElement(ae,{message:a}),s.a.createElement(ne,{me:n,players:r}),s.a.createElement($,{cards:t}),s.a.createElement(te,{badge:2,color:"inherit",component:Q.a,title:"Login",to:"/login",disabled:!o.connected,style:Z()({"login-button--logged-out":""===n.id&&o.connected},{"login-button--logged-in":""!==n.id&&o.connected},{"login-button--disconnected":!o.connected})},s.a.createElement(U.b,null))))}),ye=Object(u.connect)(function(e){return{cards:fe.getByDeck(e.decks,"fibonacci"),internet:e.internet,me:e.me,message:e.message,players:ge.getOthers(e.players,e.me.id)}},{})(be),ke=n(109),Ce=(n(5999),function(e){function t(e){var n,a=e.online;return Object(W.a)(this,t),(n=Object(H.a)(this,Object(q.a)(t).call(this))).render=function(){var e=n.state,t=e.name,a=e.room;return s.a.createElement("div",null,s.a.createElement(ie,{label:"Login",icon:s.a.createElement(U.a,null),onClick:n.handleBack}),s.a.createElement("form",{className:"login-form",autoComplete:"off",onSubmit:n.handleSubmit},s.a.createElement(ce,{name:"room",label:"Room",value:a,onChange:n.handleInputChange,required:!0}),s.a.createElement(ce,{name:"name",label:"Name",value:t,onChange:n.handleInputChange,inputProps:{maxLength:"2"},required:!0}),s.a.createElement(te,{type:"submit",color:"primary",style:Z()("login-button")},s.a.createElement(U.f,null))))},n.handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(ke.a)({},a,r.toLowerCase()))},n.handleBack=function(){n.props.history.push("/")},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.room;n.props.socket.emit("join",{name:a,room:r}),n.handleBack()},n.state={name:a.name,room:a.room},n}return Object(F.a)(t,e),t}(s.a.Component)),we=Object(u.connect)(function(e){return{message:e.message,online:e.configs.online.config,socket:e.socket}},{})(Ce),Ne=(n(6e3),function(e){function t(){var e;return Object(W.a)(this,t),(e=Object(H.a)(this,Object(q.a)(t).call(this))).state={card:""},e.componentDidMount=function(){return e.props.socket.emit("card:chosen",e.props.match.params.card)},e.render=function(){return s.a.createElement("main",{className:"preview"},s.a.createElement(ae,{message:e.props.message}),s.a.createElement(oe,{me:e.props.me,players:e.props.players}),s.a.createElement("div",{className:"card-front",onClick:e.handleClick,role:"button"},s.a.createElement(J,{card:e.state.card})))},e.handleClick=function(){var t=e.props,n=t.history,a=t.match,r=t.socket;if(e.revealed)return r.emit("card:cleared"),void n.push("/");e.setState({card:a.params.card}),r.emit("card:reveal",e.state.card),e.revealed=!0},e.revealed=!1,e}return Object(F.a)(t,e),t}(s.a.Component)),Oe=Object(u.connect)(function(e){return{me:e.me,message:e.message,players:ge.getOthers(e.players,e.me.id),socket:e.socket}},{})(Ne),je=n(112),_e=(n(6001),function(e){function t(e){var n,a=e.configs;Object(W.a)(this,t),(n=Object(H.a)(this,Object(q.a)(t).call(this))).render=function(){var e=n.state,t=e.apiConfig,a=e.onlineConfig;return s.a.createElement("div",null,s.a.createElement(ie,{label:"Settings",icon:s.a.createElement(U.a,null),onClick:n.handleBack}),s.a.createElement("main",{className:"settings-list"},s.a.createElement(ee.g,{subheader:s.a.createElement(ee.k,null,"Online")},s.a.createElement(ee.h,null,s.a.createElement("form",{className:"settings-form",autoComplete:"off"},s.a.createElement(ee.l,{id:"onlineRoom",label:"Room",value:a.room,onChange:n.handleInputChange(function(e,t){return{onlineConfig:Object(d.a)({},e.onlineConfig,{room:t.toLowerCase()})}})}),s.a.createElement(ee.l,{id:"onlineName",label:"Name",value:a.name,onChange:n.handleInputChange(function(e,t){return{onlineConfig:Object(d.a)({},e.onlineConfig,{name:t.toLowerCase()})}}),inputProps:{maxLength:"2"}})))),s.a.createElement(ee.b,null),s.a.createElement(ee.g,{subheader:s.a.createElement(ee.k,null,"API")},s.a.createElement(ee.h,null,s.a.createElement("form",{className:"settings-form",autoComplete:"off"},s.a.createElement(ee.l,{id:"apiProtocol",label:"Protocol",value:t.protocol,onChange:n.handleInputChange(function(e,t){return{apiConfig:Object(d.a)({},e.apiConfig,{protocol:t.toLowerCase()})}})}),s.a.createElement(ee.l,{id:"apiHost",label:"Host",value:t.host,onChange:n.handleInputChange(function(e,t){return{apiConfig:Object(d.a)({},e.apiConfig,{host:t.toLowerCase()})}})}),s.a.createElement(ee.l,{id:"apiPort",label:"Port",value:t.port,onChange:n.handleInputChange(function(e,t){return{apiConfig:Object(d.a)({},e.apiConfig,{port:t})}})}))))))},n.handleInputChange=function(e){return function(t){var a=t.target.value;n.setState(function(t){return e(t,a)})}},n.handleBack=function(){n.props.history.push("/")};var r=a.api,o=a.online,c=a.stories;return n.state={apiConfig:r.config,onlineConfig:o.config,storiesConfig:c.config},n}return Object(F.a)(t,e),Object(je.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.apiConfig,n=e.onlineConfig;this.props.updateConfigs({api:{name:"api",config:{protocol:t.protocol,host:t.host,port:t.port}},online:{name:"online",config:{room:n.room,name:n.name}}})}}]),t}(s.a.Component)),Se=Object(u.connect)(function(e){return{configs:e.configs}},{updateConfigs:M.configs.update})(_e),Pe=(n(6002),function(e){function t(e){var n,a=e.api;return Object(W.a)(this,t),(n=Object(H.a)(this,Object(q.a)(t).call(this))).handlePointsBlur=function(){return function(e){var t=e.target.value;n.getStories(t)}},n.handlePointsChange=function(){return function(e){var t=e.target.value;n.setState({points:t})}},n.handleBack=function(){n.props.history.push("/")},n.state={stories:[],points:void 0,config:a},n.getStories(void 0),n}return Object(F.a)(t,e),Object(je.a)(t,[{key:"getStories",value:function(){var e=Object(c.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.api.stories.getByProject("team",{points:t},this.state.config);case 2:(n=e.sent)&&this.setState({stories:n.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.stories,n=e.points;return s.a.createElement("div",null,s.a.createElement(ie,{label:"Stories",icon:s.a.createElement(U.a,null),onClick:this.handleBack}),s.a.createElement("main",{className:"stories-list"},s.a.createElement(ee.g,{subheader:s.a.createElement(ee.k,null,"Search")},s.a.createElement(ee.h,{className:"settings-form"},s.a.createElement(ee.l,{id:"points",label:"By points",type:"number",value:n,onBlur:this.handlePointsBlur(),onChange:this.handlePointsChange()}))),s.a.createElement(ee.b,null),s.a.createElement(ee.g,null,t.map(function(e){return s.a.createElement(ee.h,{key:e.id},s.a.createElement(ee.j,{primary:"".concat(e.id," (").concat(e.points,")"),secondary:e.title}))}))))}}]),t}(s.a.Component)),Ie=Object(u.connect)(function(e){return{api:e.configs.api.config}},{})(Pe),xe=function(){return s.a.createElement(K.a,null,s.a.createElement("div",{className:"panel"},s.a.createElement(D.a,{exact:!0,path:"/",component:ye}),s.a.createElement(D.a,{path:"/cards/:card",component:Oe}),s.a.createElement(D.a,{path:"/about",component:se}),s.a.createElement(D.a,{path:"/login",component:we}),s.a.createElement(D.a,{path:"/settings",component:Se}),s.a.createElement(D.a,{path:"/stories",component:Ie})))},Te=(n(6004),n(6005),Object(R.createMuiTheme)({palette:{type:"light",primary:{light:G.blueGrey[200],main:G.blueGrey[400],dark:G.blueGrey[600]}},typography:{useNextVariants:!0}})),Be=function(e){return s.a.createElement(R.MuiThemeProvider,{theme:Te},s.a.createElement(xe,e))},Le=g.a.createInstance(Object(d.a)({},B.constants.app.db,{storeName:"error"})),Ae=function(){var e=Object(c.a)(o.a.mark(function e(t,n,a,r,c){var i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now().toString(),s={message:t,source:n,lineno:a,colno:r,error:{message:c.message,stack:c.stack}},e.next=4,Le.setItem(i,s);case 4:return e.next=6,B.api.errors.create(s);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Re(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ge=n(308),Ke=n.n(Ge);window.onerror=Ae;var De=Ke()();function We(){return(We=Object(c.a)(o.a.mark(function e(){var t,n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.api.decks.getAll();case 2:return t=e.sent,e.next=5,B.api.configs.getByName("api");case 5:return n=e.sent,e.next=8,B.api.configs.getByName("stories");case 8:return a=e.sent,e.next=11,B.api.configs.getByName("online");case 11:r=e.sent,De.dispatch(M.decks.update(t)),De.dispatch(M.configs.update({api:n,stories:a,online:r})),B.socket.setup(De);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){We.apply(this,arguments)}(),Object(l.render)(s.a.createElement(u.Provider,{store:De},s.a.createElement(Be,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/planning-poker-game",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/planning-poker-game","/service-worker.js");Me?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Re(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Re(e)})}}()},9:function(e,t,n){"use strict";t.a={CONFIG:"CONFIG",DECKS:"DECKS",ME:"ME",MESSAGE:"MESSAGE",INTERNET:"INTERNET",PLAYERS:"PLAYERS",SOCKET:"SOCKET"}}},[[5593,1,2]]]);
//# sourceMappingURL=main.84990fc2.chunk.js.map